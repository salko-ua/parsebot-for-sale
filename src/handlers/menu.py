from aiogram import Bot, F, Router
from aiogram.filters import Command
from aiogram.fsm.state import State, StatesGroup
from aiogram.fsm.context import FSMContext
from aiogram.types import CallbackQuery, Message, message

from src.control_db import Database
from src.keyboards.menu import about, buy_premium, continue_premium, hide_kb
from src.keyboards.setting import send_settings 
from src.keyboards.premium import back

router = Router()

class SendFAQ(StatesGroup):
    send_message = State()
    change_group = State()
    change_template = State()


@router.message(Command("about"))
@router.message(F.text == "–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è üßæ")
async def informations(message: Message):
    await message.delete()
    await message.answer("–©–æ –≤–∞—Å —Ü—ñ–∫–∞–≤–∏—Ç—å ?", reply_markup=about())


async def send_about_information(query: CallbackQuery, text: str) -> None:
    try:
        await query.message.edit_text(
            text=text, parse_mode="HTML", reply_markup=about()
        )
    except Exception as e:
        print(f"SEND ABOUT INFORMATION: {e}\n USER STUPID PRESS THE SAME BUTTON")
        await query.answer(f"–í–∏ —É–∂–µ –ø–µ—Ä–µ–≥–ª—è–¥–∞—î—Ç–µ {query.data}")


@router.callback_query(F.data == "–ö–æ–Ω—Ç–∞–∫—Ç–∏ üì±")
@router.callback_query(F.data == "–ü–æ—Ä–∞–¥–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞–Ω–Ω—è ‚ù§Ô∏è")
@router.callback_query(F.data == "–ü—Ä–æ –Ω–∞—Å üë•")
@router.callback_query(F.data == "–¢–∞—Ä–∏—Ñ üí∏")
@router.callback_query(F.data == "–î–æ–≥–æ–≤—ñ—Ä –û—Ñ–µ—Ä—Ç–∏ üìë")
@router.callback_query(F.data == "–ü–æ–ª—ñ—Ç–∏–∫–∞ –∫–æ–Ω—Ñ—ñ–¥. üîê")
async def about_information(query: CallbackQuery):
    privacy_policy = (
        "–ü–æ–ª—ñ—Ç–∏–∫–∞ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ\n"
        "\n"
        "–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è: 22.12.2023\n"
        "\n"
        "–¶—è –ø–æ–ª—ñ—Ç–∏–∫–∞ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ –ø–æ—è—Å–Ω—é—î, —è–∫ –º–∏ –∑–±–∏—Ä–∞—î–º–æ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ç–∞ –∑–∞—Ö–∏—â–∞—î–º–æ –æ—Å–æ–±–∏—Å—Ç—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, —è–∫—É –≤–∏ –Ω–∞–¥–∞—î—Ç–µ –Ω–∞–º —á–µ—Ä–µ–∑ —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞ –û–ø–∏—Å —Ç–∞ —Ñ–æ—Ç–æ –æ–± º—î–∫—Ç–∞. –ú–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –≤–∞–º —É–≤–∞–∂–Ω–æ –æ–∑–Ω–∞–π–æ–º–∏—Ç–∏—Å—è –∑ —Ü—ñ—î—é –ø–æ–ª—ñ—Ç–∏–∫–æ—é, —â–æ–± –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —è–∫ –º–∏ –æ–±—Ä–æ–±–ª—è—î–º–æ –≤–∞—à—ñ –¥–∞–Ω—ñ.\n"
        "\n"
        "1. –ó–±–∏—Ä–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö\n"
        "–ú–∏ –º–æ–∂–µ–º–æ –∑–±–∏—Ä–∞—Ç–∏ —Ç–∞–∫—ñ –¥–∞–Ω—ñ –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:\n"
        "–í–∞—à –¢–µ–ª–µ–≥—Ä–∞–º ID\n"
        "Username –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–∑–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ)\n"
        "–Ü–º'—è —Ç–∞ –ø—Ä—ñ–∑–≤–∏—â–µ –≤ –¢–µ–ª–µ–≥—Ä–∞–º (First Name, Second Name)\n"
        "\n"
        "–ú–∏ –Ω–µ –∑–±–∏—Ä–∞—î–º–æ —ñ –Ω—ñ—è–∫ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –≤–∞—à—É –ø–µ—Ä–µ–ø–∏—Å–∫—É –∑ –±–æ—Ç–æ–º.\n"
        "\n"
        "2. –ú–µ—Ç–∞ –∑–±–æ—Ä—É –¥–∞–Ω–∏—Ö\n"
        "–ú–∏ –∑–±–∏—Ä–∞—î–º–æ —Ü—ñ –¥–∞–Ω—ñ –¥–ª—è –Ω–∞–¥–∞–Ω–Ω—è –∑—Ä—É—á–Ω–æ–≥–æ —Ç–∞ –∞–¥–µ–∫–≤–∞—Ç–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è –Ω–∞—à–æ–≥–æ –±–æ—Ç–∞. –¶—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –¥–æ–ø–æ–º–∞–≥–∞—î –Ω–∞–º –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–æ—Å–ª—É–≥–∏ —Ç–∞ –ø–æ–ª—ñ–ø—à–∏—Ç–∏ –≤–∞—à –¥–æ—Å–≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.\n"
        "\n"
        "3. –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö\n"
        "–¢–µ—Ä–º—ñ–Ω –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ü–∏—Ö –¥–∞–Ω–∏—Ö –Ω–µ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—É—î—Ç—å—Å—è —ñ –º–æ–∂–µ –∑–∞–ª–µ–∂–∞—Ç–∏ –≤—ñ–¥ –≤–∞—à–æ—ó –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –≤ –±–æ—Ç—ñ. –ú–∏ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –¥–∞–Ω—ñ —Å—Ç—ñ–π–∫–æ —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —ó—Ö –ª–∏—à–µ –¥–ª—è —Ü—ñ–ª–µ–π, –∑–∞–∑–Ω–∞—á–µ–Ω–∏—Ö —É —Ä–æ–∑–¥—ñ–ª—ñ 2 —Ü—ñ—î—ó –ø–æ–ª—ñ—Ç–∏–∫–∏.\n"
        "\n"
        "4. –û–±–º—ñ–Ω —ñ –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–∏—Ö\n"
        "–ú–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞—î–º–æ –≤–∞—à—ñ –æ—Å–æ–±–∏—Å—Ç—ñ –¥–∞–Ω—ñ —Ç—Ä–µ—Ç—ñ–º –æ—Å–æ–±–∞–º. –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è, —è–∫—É –≤–∏ –Ω–∞–¥–∞—î—Ç–µ —á–µ—Ä–µ–∑ –Ω–∞—à–æ–≥–æ –±–æ—Ç–∞, –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—é —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ü—ñ–ª–µ–π, –∑–∞–∑–Ω–∞—á–µ–Ω–∏—Ö —É —Ä–æ–∑–¥—ñ–ª—ñ 2.\n"
        "\n"
        "5. –ü—Ä–∞–≤–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞\n"
        "–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î –ø—Ä–∞–≤–æ –Ω–∞:\n"
        "–î–æ—Å—Ç—É–ø –¥–æ –≤–∞—à–∏—Ö –æ—Å–æ–±–∏—Å—Ç–∏—Ö –¥–∞–Ω–∏—Ö\n"
        "\n"
        "6. –ó–º—ñ–Ω–∏ –ø–æ–ª—ñ—Ç–∏–∫–∏ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ\n"
        "–ú–∏ –º–æ–∂–µ–º–æ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —Ü—é –ø–æ–ª—ñ—Ç–∏–∫—É –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ –±–µ–∑ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è. –û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–≤–∂–¥–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è —É –≤–µ—Ä—Ö–Ω—ñ–π —á–∞—Å—Ç–∏–Ω—ñ —Ü—å–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞.\n"
        "\n"
        "7. –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è\n"
        "–Ø–∫—â–æ —É –≤–∞—Å —î –ø–∏—Ç–∞–Ω–Ω—è, —Å–∫–∞—Ä–≥–∏ –∞–±–æ –∑–∞–ø–∏—Ç–∏ —â–æ–¥–æ —Ü—ñ—î—ó –ø–æ–ª—ñ—Ç–∏–∫–∏ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ, –±—É–¥—å –ª–∞—Å–∫–∞, –∑–≤'—è–∂—ñ—Ç—å—Å—è –∑ –Ω–∞–º–∏ –∑–∞ –∞–¥—Ä–µ—Å–æ—é –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—ó –ø–æ—à—Ç–∏: primehouse.kh@gmail.com\n"
        "\n"
        "–¶—è –ø–æ–ª—ñ—Ç–∏–∫–∞ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ –±—É–ª–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ —Ä–∞–∑—É –æ–Ω–æ–≤–ª–µ–Ω–∞ 22.12.2023\n"
    )

    offer_contract = (
        "–î–û–ì–û–í–Ü–† –û–§–ï–†–¢–ò\n"
        "\n"
        "1. –ó–∞–≥–∞–ª—å–Ω—ñ –ø–æ–ª–æ–∂–µ–Ω–Ω—è\n"
        "\n"
        '1.1. –¶–µ–π –î–æ–≥–æ–≤—ñ—Ä –æ—Ñ–µ—Ä—Ç–∏ (–¥–∞–ª—ñ - "–î–æ–≥–æ–≤—ñ—Ä") —î –ø—É–±–ª—ñ—á–Ω–æ—é –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—î—é –≤–ª–∞—Å–Ω–∏–∫–∞ —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞ –û–ø–∏—Å —Ç–∞ —Ñ–æ—Ç–æ –æ–± º—î–∫—Ç–∞ , –∑ –æ–¥–Ω—ñ—î—ó —Å—Ç–æ—Ä–æ–Ω–∏, —ñ –±—É–¥—å-—è–∫–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–¥–∞–ª—ñ - "–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á"), –∑ —ñ–Ω—à–æ—ó —Å—Ç–æ—Ä–æ–Ω–∏, —É–∫–ª–∞—Å—Ç–∏ —É–≥–æ–¥—É –Ω–∞ —É–º–æ–≤–∞—Ö, –≤–∏–∫–ª–∞–¥–µ–Ω–∏—Ö —É —Ü—å–æ–º—É –î–æ–≥–æ–≤–æ—Ä—ñ.\n'
        "\n"
        '1.2. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ–≥–æ–¥–∂—É—î—Ç—å—Å—è –∑ —É–º–æ–≤–∞–º–∏ —Ü—å–æ–≥–æ –î–æ–≥–æ–≤–æ—Ä—É —à–ª—è—Ö–æ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞ "–û–ø–∏—Å —Ç–∞ —Ñ–æ—Ç–æ –æ–± º—î–∫—Ç–∞".\n'
        "\n"
        "2. –£–º–æ–≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è\n"
        "\n"
        '2.1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–æ–±–æ–≤\'—è–∑—É—î—Ç—å—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞ "–û–ø–∏—Å —Ç–∞ —Ñ–æ—Ç–æ –æ–± º—î–∫—Ç–∞" –∑–≥—ñ–¥–Ω–æ –∑ –π–æ–≥–æ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è–º —ñ –Ω–µ –ø–æ—Ä—É—à—É–≤–∞—Ç–∏ –∑–∞–∫–æ–Ω–æ–¥–∞–≤—Å—Ç–≤–æ —Ç–∞ –ø—Ä–∞–≤–∏–ª–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞–Ω–Ω—è.\n'
        "\n"
        "2.2. –í–ª–∞—Å–Ω–∏–∫ –±–æ—Ç–∞ –∑–∞–ª–∏—à–∞—î –∑–∞ —Å–æ–±–æ—é –ø—Ä–∞–≤–æ –≤ –±—É–¥—å-—è–∫–∏–π —á–∞—Å –≤–Ω–µ—Å—Ç–∏ –∑–º—ñ–Ω–∏ –¥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ –±–æ—Ç–∞ —Ç–∞ —É–º–æ–≤ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±—É–¥–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–æ —Ç–∞–∫—ñ –∑–º—ñ–Ω–∏.\n"
        "\n"
        "2.3. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ—Å–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å –∑–∞ –±–µ–∑–ø–µ–∫—É —Å–≤–æ–≥–æ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É —Ç–∞ –∑–æ–±–æ–≤'—è–∑—É—î—Ç—å—Å—è –Ω–µ —Ä–æ–∑–≥–æ–ª–æ—à—É–≤–∞—Ç–∏ —Å–≤–æ—ó –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ —Ç—Ä–µ—Ç—ñ–º –æ—Å–æ–±–∞–º.\n"
        "\n"
        "3. –í–ª–∞—Å–Ω—ñ—Å—Ç—å —ñ –∞–≤—Ç–æ—Ä—Å—å–∫—ñ –ø—Ä–∞–≤–∞\n"
        "\n"
        '3.1. –í–µ—Å—å –≤–º—ñ—Å—Ç —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞ "–û–ø–∏—Å —Ç–∞ —Ñ–æ—Ç–æ –æ–± º—î–∫—Ç–∞", –≤–∫–ª—é—á–∞—é—á–∏ —Ç–µ–∫—Å—Ç–∏, –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, –≤—ñ–¥–µ–æ —Ç–∞ —ñ–Ω—à–µ, –∑–∞—Ö–∏—â–µ–Ω–∏–π –∞–≤—Ç–æ—Ä—Å—å–∫–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ –∑ –±–æ—Ç–∞ –º–æ–∂–ª–∏–≤–µ –ª–∏—à–µ –∑ –¥–æ–∑–≤–æ–ª—É –≤–ª–∞—Å–Ω–∏–∫–∞.\n'
        "\n"
        "4. –í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å\n"
        "\n"
        "4.1. –í–ª–∞—Å–Ω–∏–∫ –±–æ—Ç–∞ –Ω–µ –Ω–µ—Å–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ –∑–∞ –±—É–¥—å-—è–∫—ñ –∑–±–∏—Ç–∫–∏ –∞–±–æ —à–∫–æ–¥–∏, —Å–ø—Ä–∏—á–∏–Ω–µ–Ω—ñ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–≤—ñ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –±–æ—Ç–∞.\n"
        "\n"
        "5. –ó–∞–∫–ª—é—á–Ω—ñ –ø–æ–ª–æ–∂–µ–Ω–Ω—è\n"
        "\n"
        "5.1. –¶–µ–π –î–æ–≥–æ–≤—ñ—Ä —Ä–µ–≥—É–ª—é—î –≤—ñ–¥–Ω–æ—Å–∏–Ω–∏ –º—ñ–∂ –≤–ª–∞—Å–Ω–∏–∫–æ–º –±–æ—Ç–∞ —Ç–∞ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º —ñ –ø—ñ–¥–ª—è–≥–∞—î —Ç–ª—É–º–∞—á–µ–Ω–Ω—é –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –∑–∞–∫–æ–Ω–æ–¥–∞–≤—Å—Ç–≤–∞, —â–æ –¥—ñ—î –Ω–∞ —Ç–µ—Ä–∏—Ç–æ—Ä—ñ—ó –£–∫—Ä–∞—ó–Ω–∏.\n"
        "\n"
        '5.2. –¶–µ–π –î–æ–≥–æ–≤—ñ—Ä –Ω–∞–±–∏—Ä–∞—î —á–∏–Ω–Ω–æ—Å—Ç—ñ –∑ –º–æ–º–µ–Ω—Ç—É –ø–æ—á–∞—Ç–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞ "–û–ø–∏—Å —Ç–∞ —Ñ–æ—Ç–æ –æ–± º—î–∫—Ç–∞".\n'
        "\n"
        "5.3. –ó–º—ñ–Ω–∏ —ñ –¥–æ–ø–æ–≤–Ω–µ–Ω–Ω—è –¥–æ —Ü—å–æ–≥–æ –î–æ–≥–æ–≤–æ—Ä—É –º–∞—é—Ç—å –±—É—Ç–∏ –≤–Ω–µ—Å–µ–Ω—ñ –≤ –ø–∏—Å—å–º–æ–≤—ñ–π —Ñ–æ—Ä–º—ñ —Ç–∞ –ø—ñ–¥–ø–∏—Å–∞–Ω—ñ –æ–±–æ–º–∞ —Å—Ç–æ—Ä–æ–Ω–∞–º–∏.\n"
        "\n"
        "6. –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∫–æ—à—Ç—ñ–≤.\n"
        "–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ–π –∞–±–æ —Ñ–æ—Ä—Å-–º–∞–∂–æ—Ä—ñ–≤, –∫–æ—à—Ç–∏ –∑–∞ –ø—ñ–¥–ø–∏—Å–∫—É –Ω–∞ Telegram-–±–æ—Ç –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å—Å—è.\n"
        "\n"
        "7. –†–µ–∫–≤—ñ–∑–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω:\n"
        "\n"
        "–ü—Ä–æ–¥–∞–≤–µ—Ü—å:\n"
        "–§–û–ü –ú–∞–≥–∏—Ä–æ–≤—Å—å–∫–∞ –ú–∞—Ä—ñ—è –¢–∞—Ä–∞—Å—ñ–≤–Ω–∞\n"
        "–£–∫—Ä–∞—ó–Ω–∞, 84511, –î–æ–Ω–µ—Ü—å–∫–∞ –æ–±–ª., –ë–∞—Ö–º—É—Ç—Å—å–∫–∏–π —Ä-–Ω, –º—ñ—Å—Ç–æ –ë–∞—Ö–º—É—Ç, –≤—É–ª–∏—Ü—è –ù–µ–∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ, –±—É–¥–∏–Ω–æ–∫ 18, –∫–≤–∞—Ä—Ç–∏—Ä–∞ 417-418\n"
        "–ö–æ–¥: 3521001888\n"
        "–†/—Ä UA573515330000026004015902981\n"
        "–ü—Ä–∏–≤–∞—Ç–ë–∞–Ω–∫\n"
    )

    tariff = (
        "–¢–∞—Ä–∏—Ñ üìë\n"
        "–¶—ñ–Ω–∞ —Ç–∞—Ä–∏—Ñ—É - 300 –≥—Ä–Ω üí∏\n"
        "–¢–µ—Ä–º—ñ–Ω –¥—ñ—ó - 1 –º—ñ—Å—è—Ü—å üïê\n"
        "–ü–æ–¥–æ–≤–∂–∏—Ç–∏ —Ç–∞—Ä–∏—Ñ –º–æ–∂–Ω–∞ –≤ –±—É–¥—å —è–∫–∏–π —á–∞—Å ü§ù\n"
    )

    about_us = (
        "–ü—Ä–æ –ù–∞—Å üë§\n"
        "\n"
        '–ë–æ—Ç-–ø–æ–º—ñ—á–Ω–∏–∫ "–û–ø–∏—Å —Ç–∞ —Ñ–æ—Ç–æ –æ–± º—î–∫—Ç–∞". –°—Ç–≤–æ—Ä–µ–Ω–∏–π –¥–ª—è –∞–≥–µ–Ω—Ü—ñ–π –Ω–µ—Ä—É—Ö–æ–º–æ—Å—Ç—ñ.\n'
        "–î–æ–ø–æ–º–∞–≥–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É–≤–∞—Ç–∏ —Ä–æ–±–æ—Ç—É —Ç–∞ –≥–µ–Ω–µ—Ä—É—é —Ä–µ–∫–ª–∞–º–Ω—ñ –ø–æ—Å—Ç–∏ –æ–± º—î–∫—Ç—ñ–≤ –∞—Ä–µ–Ω–¥–∏ —Ç–∞ –ø—Ä–æ–¥–∞–∂—É.\n"
    )

    usage_tips = (
        "–ü–æ—Ä–∞–¥–∏ –ö–æ—Ä–∏—Å—Ç—É–≤–∞–Ω–Ω—è ‚ù§Ô∏è\n"
        "\n"
        "–í—Å–µ –ø—Ä–æ—Å—Ç–æ! –ö–∏–¥–∞—î—Ç–µ –±–æ—Ç—É –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∑ –û–õ–• ( –æ–±–æ–≤ º—è–∑–∫–æ–≤–æ —Ü–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –ø–æ–≤–∏–Ω–Ω–æ –±—É—Ç–∏ –∑—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ —Å–∞–π—Ç—É –∑ –ø—Ä–æ–¥–∞–∂—É —á–∏ –æ—Ä–µ–Ω–¥–∏ –Ω–µ—Ä—É—Ö–æ–º–æ—Å—Ç—ñ)\n"
        "–ë–æ—Ç —É –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤–∞–º –Ω–∞–¥—Å–∏–ª–∞—î –≥–æ—Ç–æ–≤–∏–π –ø–æ—Å—Ç —Å —Ñ–æ—Ç–æ —Ç–∞ –æ–ø–∏—Å–æ–º. –í–∏ —Ü–µ–π –ø–æ—Å—Ç –≤–∂–µ –Ω–∞–¥—Å–∏–ª–∞—î—Ç–µ —Å–≤–æ—î–º—É –∫–ª—ñ—î–Ω—Ç—É!\n"
    )

    contacts = (
        "–ö–æ–Ω—Ç–∞–∫—Ç–∏ üì±\n"
        "\n"
        "–ó –ø—Ä–∏–≤–æ–¥—É –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ–π, —Å–∫–∞—Ä–≥ –∞–±–æ –∫–æ–º–µ—Ä—Ü—ñ–π–Ω–∏—Ö –ø–∏—Ç–∞–Ω—å:\n"
        "–¢–µ–ª–µ–≥—Ä–∞–º - @realtor_057\n"
        "–ü–æ—à—Ç–∞ - primehouse.kh@gmail.com\n"
    )

    dict_chose = {
        "–ü–æ–ª—ñ—Ç–∏–∫–∞ –∫–æ–Ω—Ñ—ñ–¥. üîê": privacy_policy,
        "–î–æ–≥–æ–≤—ñ—Ä –û—Ñ–µ—Ä—Ç–∏ üìë": offer_contract,
        "–¢–∞—Ä–∏—Ñ üí∏": tariff,
        "–ü—Ä–æ –Ω–∞—Å üë•": about_us,
        "–ü–æ—Ä–∞–¥–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞–Ω–Ω—è ‚ù§Ô∏è": usage_tips,
        "–ö–æ–Ω—Ç–∞–∫—Ç–∏ üì±": contacts,
    }

    await send_about_information(query, dict_chose[query.data])


@router.message(F.text == "–ü—ñ–¥–ø–∏—Å–∫–∞ üëë")
async def premium(message: Message, text=None):
    await message.delete()
    db = await Database.setup()
    telegram_id = message.from_user.id

    if not await db.telegram_id_premium_exists(telegram_id):
        await message.answer(
            text=(
                f"–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –≤–∞—à—É –ø—ñ–¥–ø–∏—Å–∫—É üëë:\n"
                f"–ü—ñ–¥–ø–∏—Å–∫–∞: –ù–µ –∞–∫—Ç–∏–≤–Ω–∞ ‚ùå\n"
                f"–í–∏ –Ω—ñ —Ä–∞–∑—É –Ω–µ –∫—É–ø—É–≤–∞–ª–∏ –ø—ñ–¥–ø–∏—Å–∫—É."
            ),
            reply_markup=buy_premium(),
        )
        return

    is_premium = await db.is_premium_user(telegram_id)
    expiration_date = await db.get_expiration_date(telegram_id)
    bought_premium = await db.get_bought_premium(telegram_id)
    date_purchase = await db.get_date_purchase(telegram_id)

    if is_premium:
        text = (
            f"–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –≤–∞—à—É –ø—ñ–¥–ø–∏—Å–∫—É üëë:\n"
            f"–ü—ñ–¥–ø–∏—Å–∫–∞: –ê–∫—Ç–∏–≤–Ω–∞ ‚úÖ\n"
            f"–ö—É–ø—É–≤–∞–≤ –ø—ñ–¥–ø–∏—Å–∫—É: {bought_premium} —Ä–∞–∑\n\n"
            f"–î—ñ—è –ø—ñ–¥–ø–∏—Å–∫–∏ –¥–æ: <b>{date_purchase}-{expiration_date}</b>"
        )
    elif not is_premium:
        text = (
            f"–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –≤–∞—à—É –ø—ñ–¥–ø–∏—Å–∫—É üëë:\n"
            f"–ü—ñ–¥–ø–∏—Å–∫–∞: –ù–µ –∞–∫—Ç–∏–≤–Ω–∞ ‚ùå\n"
            f"–ö—É–ø—É–≤–∞–≤ –ø—ñ–¥–ø–∏—Å–∫—É: {bought_premium} —Ä–∞–∑\n\n"
            f"–ó–∞–∫—ñ–Ω—á–∏–ª–∞—Å—å: <b>{expiration_date}</b>"
        )

    await message.answer(text, parse_mode="HTML", reply_markup=continue_premium())


@router.message(F.text == "–ü–æ—Å–∏–ª–∞–Ω–Ω—è üîó")
async def faq(message: Message):
    await message.delete()
    db = await Database.setup()

    if not await db.is_premium_user(message.from_user.id):
        await message.answer("–ü—Ä–∏–¥–±–∞–π—Ç–µ –ø—ñ–¥–ø–∏—Å–∫—É, —â–æ–± –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è üòï")
        return

    urls = await db.see_urls(message.from_user.id)
    if len(urls) > 0:
        text = "–û—Å—Ç–∞–Ω–Ω—ñ 10 –ø–æ—Å–∏–ª–∞–Ω—å: \n"
        s = 1
        for url in urls:
            text += f"{s}. {url[0]}\n"
            s += 1
    else:
        text = "–í–∏ –Ω–µ –∑–ø–∞—Ä—Å–∏–ª–∏ –∂–æ–¥–Ω–æ–≥–æ –ø–æ—Å—Ç–∞ üòê"

    await message.answer(text, disable_web_page_preview=True, reply_markup=hide_kb())


@router.message(F.text == "–ó–≤–æ—Ä—Ç –∑–≤`—è–∑–æ–∫ üë§")
async def information(message: Message, state: FSMContext):
    await message.delete()

    message = await message.answer(
        "–ù–∞–ø–∏—à—ñ—Ç—å –Ω–∏–∂—á–µ –ø–∏—Ç–∞–Ω–Ω—è, —ñ –≤–æ–Ω–æ –±—É–¥–µ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–µ –¥–æ –∞–¥–º—ñ–Ω–∞\n–ê–±–æ –Ω–∞–ø–∏—à—ñ—Ç—å –π–æ–º—É –æ—Å–æ–±–∏—Å—Ç–æ @realtor_057",
        reply_markup=back(),
    )
    await state.set_state(SendFAQ.send_message)
    await state.update_data(message=message)


@router.callback_query(F.data == "–í—ñ–¥–º—ñ–Ω–∏—Ç–∏ ‚ùå", SendFAQ.send_message)
async def faq_back(query: CallbackQuery, state: FSMContext):
    await state.clear()
    await query.message.delete()


@router.message(SendFAQ.send_message)
async def faq_back(message: Message, state: FSMContext, bot: Bot):
    data = await state.get_data()
    messages: Message = data["message"]

    await state.clear()
    text_from_user = (
        f"–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á @{message.from_user.username} {message.from_user.id}\n"
        "–ù–∞–¥—ñ—Å–ª–∞–≤ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: \n"
        f"{message.text}"
    )

    await bot.send_message(-1001902595324, message_thread_id=348, text=text_from_user)

    await messages.delete()
    await message.answer("–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ ‚úÖ\n–û—á—ñ–∫—É–π—Ç–µ –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å üïê")

@router.message(F.text == "–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ‚öôÔ∏è")
async def settings(message: Message):
    db = await Database.setup()

    await message.delete()
    await message.answer("–©–æ –≤–∞—Å —Ü—ñ–∫–∞–≤–∏—Ç—å ?", reply_markup=send_settings())

@router.message(Command("add"))
@router.message(F.text == "–î–æ–¥–∞—Ç–∏ –±–æ—Ç–∞")
async def change_group(message: Message, state: FSMContext):
    db = await Database.setup()
    group_id = message.chat.id
    print(group_id)

    await db.update_group_id(telegram_id=message.from_user.id, group_id=message.text)
    await state.clear()
    await message.answer("–ì—Ä—É–ø—É –¥–æ–¥–∞–Ω–æ ‚úÖ")



@router.callback_query(F.data == "–ó–º—ñ–Ω–∏—Ç–∏ —à–∞–±–ª–æ–Ω")
async def change_group(query: CallbackQuery, state: FSMContext):
    await query.answer("–ù–∞–¥—ñ—à–ª—ñ—Ç—å —à–∞–±–ª–æ–Ω —Ç–µ–∫—Å—Ç–æ–º", show_alert=True)

    await state.set_state(SendFAQ.change_template)

@router.message(F.text, SendFAQ.change_template)
async def change_group_id(message: Message, state: FSMContext):
    db = await Database.setup()

    await db.update_template(telegram_id=message.from_user.id, template=message.text)
    await state.clear()
    await message.answer("–®–∞–±–ª–æ–Ω –¥–æ–¥–∞–Ω–æ ‚úÖ")
